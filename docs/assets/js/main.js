"use strict";let seriesList=[],favorites=[];const searchResults=document.querySelector(".js-search-results"),imgDefault="https://via.placeholder.com/210x295/ffffff/666666/? text=TV.";function getDataFromApi(){const t=document.querySelector(".js-inputValue").value;fetch("//api.tvmaze.com/search/shows?q="+t).then(t=>t.json()).then(t=>{seriesList=t,paintSeries()})}const paintSeries=function(){let t="";for(const e of seriesList)null!==e.show.image?(t+="<li>",t+=`<h3 class="serie-title">${e.show.name}</h3>`,t+=`<img src="${e.show.image.medium}" class="serie-img" alt="${e.show.name}"/>`,t+=`<button class=" fav-btn js-add-fav-btn" data-id="${e.show.id}">Favorito</button>`,t+="</li>"):(t+="<li>",t+=`<h3 class="serie-title">${e.show.name}</h3>`,t+=`<img src="${imgDefault}" class="serie-img" alt="${e.show.name}"/>`,t+=`<button class="fav-btn js-add-fav-btn" data-id="${e.show.id}">Favorito</button>`,t+="</li>");searchResults.innerHTML=t,lisenAddFavoritesBtns()},lisenAddFavoritesBtns=()=>{const t=document.querySelectorAll(".js-add-fav-btn");for(const e of t)e.addEventListener("click",addFavorites)},addFavorites=function(t){const e=parseInt(t.target.dataset.id),s=favorites.indexOf(e),a=-1!==s;console.log(a),!1===a?favorites.push(e):favorites.splice(s,1),console.log(favorites),setInLocalStorage()},btn=document.querySelector(".js-btn-Search");btn.addEventListener("click",getDataFromApi);const getFromLocalStorage=()=>{const t=localStorage.getItem("favorites");null!==t&&(favorites=JSON.parse(t))},setInLocalStorage=()=>{const t=JSON.stringify(favorites);localStorage.setItem("favorites",t)};getFromLocalStorage(),getDataFromApi();